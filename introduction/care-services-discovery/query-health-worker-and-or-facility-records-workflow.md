# Query Health Worker and/or Facility Records Workflow

_\*\*_Workflow for a point of service application to query the Info Manager for health workers, facilities and/or the services provided by each.

| **Workflow Maturity**         | <p><img src="https://lh5.googleusercontent.com/JtMiFMfprHsm6bp5bPjwqbjk7lTXHFOmWF6hvgxXCOpsdz7FEWQnuyjwaCnkTfyCG-fOtIfz6TtqGkwHNHL1kQH0-R-JzEC6LngazcAgioSUd7b5qlvsaEqqrYfJrOrZlQ" alt=""></p><p> <strong>Maturing</strong></p> | <ul><li>Workflow is defined and ARB Approved</li><li>Workflow is supported by CSD IHE standards*</li></ul>                                                                                                                                                                                                                                                               |
| ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Standards\*                   |                                                                                                                                                                                                                                 | Care Services Discovery (CSD): ftp://ftp.ihe.net/DocumentPublication/CurrentPublished/ITInfrastructure/IHE\_ITI\_Suppl\_CSD.pdf                                                                                                                                                                                                                                          |
| Assumptions and Prerequisites |                                                                                                                                                                                                                                 | None                                                                                                                                                                                                                                                                                                                                                                     |
| Actors                        |                                                                                                                                                                                                                                 | <ul><li>IL = Interoperability Layer to handle data governance and security issues, CSD Services Finder</li><li>POS = Point of Service Application, CSD Services Finder</li><li>ILR InfoMan = Interlinked Registries CSD InfoManager</li><li>HWR = Health Worker Registry HWR, CSD Services Directory</li><li>FR = Facility Registry FR, CSD Services Directory</li></ul> |

## **Interaction Description**

The following is a description of the interaction steps. _\*\*_

![](https://lh4.googleusercontent.com/jqfTIzdr175wG-QVNwzNs4kz8VY7prz8-qKSIMDtGbDElOQuqeh4emBBeG8K1OZjI6ApLq6OIILrGcCQMqlsZkGdWyxQlz5QLOwnbD3mFaF\_waA9fH2F\_nIk\_TxVFCdJ6A)

| **#** | **Interaction**                                   | **Data / Notes**                                                                                                                                     | **Transaction Options**                                                                                            |
| ----- | ------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------ |
| 0     | Initiated according to timing set by jurisdiction | HTTP GET Request. No query parameters required.                                                                                                      |                                                                                                                    |
| 1     | Request Added / Updated facilities                | POST SOAP wrapped message with last time service directory was polled                                                                                | \[ITI-74] Query for Updated Services Transaction                                                                   |
| 2     | Return Added / Updated facilities                 | SOAP wrapped CSD document with updates to services (facilities)                                                                                      | \[ITI-74] Query for Updated Services Transaction                                                                   |
| 3     | Request Added / Updated Providers                 | SOAP wrapped message with last time service directory was polled                                                                                     | \[ITI-74] Query for Updated Services Transaction                                                                   |
| 4     | Return Added / Updated Providers                  | SOAP wrapped CSD document with updates to services (health workers)                                                                                  | \[ITI-74] Query for Updated Services Transaction                                                                   |
| 5     | Merge Facilities and Providers                    | <p>(Optional)</p><p>Merge caches of FR and HWR according to jurisdiction specific data governance/conflict resolution policy</p>                     |                                                                                                                    |
| 6     | Merge response                                    | <p>HTTP 200 Response on success.</p><p>HTTP 500 Response on failure</p>                                                                              |                                                                                                                    |
| 7     | Find Matching Services Request                    | POST careServicesRequest document defined in CSD.xsd                                                                                                 | \[ITI-73] Find Matching Services (Ad-Hoc and Stored)                                                               |
| 8     | Ensure PoS has access rights                      | @uuid attribute in careServicesRequest document for stored queries is used for validation                                                            | <p>Validation is defined according to country specific</p><p>Data governance policies in accessing the InfoMan</p> |
| 9     | XQuery for content                                | POST careServicesRequest document defined in CSD.xsd                                                                                                 | \[ITI-73] Find Matching Services (Ad-Hoc and Stored)                                                               |
| 10    | Return content                                    | Result of executing stored referencced by uuid/ad-hoc xquery. Usually a CSD document but can have any content-type depending on the query requested. | \[ITI-73] Find Matching Services (Ad-Hoc and Stored)                                                               |
| 11    | Find Matching Services Response                   | Result of executing stored referencced by uuid/ad-hoc xquery. Usually a CSD document but can have any content-type depending on the query requested. | \[ITI-73] Find Matching Services (Ad-Hoc and Stored)                                                               |
